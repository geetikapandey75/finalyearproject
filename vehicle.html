<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unclaimed Vehicles | Police Services</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lightgallery.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/lightgallery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/zoom/lg-zoom.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body class="bg-blue-50 font-sans text-gray-900">

  <!-- Navigation Bar -->
  <header class="bg-blue-900 text-white p-4">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-xl font-bold">Legal Assist</h1>
      <nav class="space-x-4">
        <a href="police-complaint.html" class="hover:underline">Home</a>
        <a href="vehicle.html" class="hover:underline font-semibold text-yellow-300">Unclaimed Vehicles</a>
        <a href="petition.html" class="hover:underline">Lodge a Petition</a>
        <a href="FIR.html" class="hover:underline">View/Print FIR</a>
        <a href="passport.html" class="hover:underline">Passport Services</a>
        <a href="Police Clearance.html" class="hover:underline">Police Clearance</a>
        <a href="e-challan.html" class="hover:underline">E-Challan</a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="text-center py-16 bg-gradient-to-r from-blue-800 to-blue-600 text-white">
    <h2 class="text-4xl font-bold mb-4">Unclaimed Vehicles</h2>
    <p class="mb-6 text-lg max-w-2xl mx-auto">View details of vehicles found and reported as unclaimed by the police department. If you identify your vehicle, you can initiate the claim process online.</p>
  </section>

  <!-- Search Section -->
  <section class="container mx-auto px-6 py-10">
    <div class="bg-white rounded-xl shadow-lg p-8">
      <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">Search for Your Vehicle</h3>
      <div class="flex flex-col md:flex-row gap-4 justify-center">
        <input type="text" id="searchInput" placeholder="Enter vehicle number (e.g. TS09AB1234)" class="w-full md:w-1/2 p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button onclick="filterVehicles()" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-500">Search</button>
      </div>
    </div>
  </section>

  <!-- Advanced Filters -->
  <section class="container mx-auto px-6 py-4">
    <div class="bg-white rounded-xl shadow-lg p-6">
      <h3 class="text-xl font-bold mb-4 text-blue-800 text-center">Advanced Filters</h3>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <select id="filter-type" class="border p-2 rounded">
          <option value="">Vehicle Type</option>
          <option>Car</option><option>Bike</option><option>Scooter</option><option>Truck</option><option>Auto</option>
        </select>
        <select id="filter-color" class="border p-2 rounded">
          <option value="">Color</option>
          <option>Red</option><option>Blue</option><option>Black</option><option>White</option><option>Silver</option>
        </select>
        <select id="filter-location" class="border p-2 rounded">
          <option value="">Police Station</option>
          <option>Kukatpally</option><option>Madhapur</option><option>Secunderabad</option><option>Banjara Hills</option>
        </select>
        <select id="filter-brand" class="border p-2 rounded">
          <option value="">Brand/Make</option>
          <option>Honda</option><option>Hero</option><option>Maruti</option><option>Hyundai</option><option>Suzuki</option>
        </select>
      </div>
      <button class="mt-4 px-4 py-2 bg-red-500 text-white rounded" onclick="clearFilters()">Clear Filters</button>
    </div>
  </section>

  <!-- Vehicle List with Gallery -->
  <section class="container mx-auto px-6 pb-12">
    <div class="bg-white rounded-xl shadow-lg p-8">
      <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">List of Unclaimed Vehicles</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="vehicle-grid">

        <!-- Vehicle Card Example -->
        <div class="bg-white rounded shadow p-3 cursor-pointer" onclick="openVehicleModal(1)">
          <div id="lightgallery-1" class="grid grid-cols-2 gap-1">
            <a href="https://via.placeholder.com/400x300"><img src="https://via.placeholder.com/200x150" class="rounded"></a>
            <a href="https://via.placeholder.com/400x300"><img src="https://via.placeholder.com/200x150" class="rounded"></a>
          </div>
          <h3 class="font-semibold mt-2">Honda Activa - White</h3>
          <p>Found at Madhapur | 5 days ago</p>
        </div>

        <div class="bg-white rounded shadow p-3 cursor-pointer" onclick="openVehicleModal(2)">
          <div id="lightgallery-2" class="grid grid-cols-2 gap-1">
            <a href="https://via.placeholder.com/400x300"><img src="https://via.placeholder.com/200x150" class="rounded"></a>
            <a href="https://via.placeholder.com/400x300"><img src="https://via.placeholder.com/200x150" class="rounded"></a>
          </div>
          <h3 class="font-semibold mt-2">Hyundai i20 - Red</h3>
          <p>Found at Kukatpally | 7 days ago</p>
        </div>

      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="container mx-auto px-6 pb-12">
    <div class="bg-white rounded-xl shadow-lg p-6">
      <h3 class="text-xl font-bold mb-4 text-blue-800 text-center">Vehicle Locations Map</h3>
      <div id="map" class="h-64 w-full rounded"></div>
    </div>
  </section>

  <!-- Claim Form -->
  <section class="container mx-auto px-6 pb-12">
    <div class="bg-white rounded-xl shadow-lg p-8">
      <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">Claim Your Vehicle</h3>
      <form class="space-y-6 max-w-2xl mx-auto">
        <div>
          <label class="block font-semibold mb-2">Full Name</label>
          <input type="text" class="w-full p-4 border rounded-lg" placeholder="Enter your name" required>
        </div>
        <div>
          <label class="block font-semibold mb-2">Vehicle Number</label>
          <input type="text" class="w-full p-4 border rounded-lg" placeholder="Enter vehicle number" required>
        </div>
        <div>
          <label class="block font-semibold mb-2">Contact Number</label>
          <input type="tel" class="w-full p-4 border rounded-lg" placeholder="Enter your contact number" required>
        </div>
        <div>
          <label class="block font-semibold mb-2">Upload Proof of Ownership</label>
          <input type="file" class="w-full p-4 border rounded-lg" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-blue-500 w-full">Submit Claim</button>
      </form>
    </div>
  </section>

  <!-- Vehicle Detail Modal -->
  <div id="vehicle-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded shadow-lg max-w-3xl w-full p-4 relative">
      <button class="absolute top-2 right-2 text-red-500 font-bold" onclick="closeModal()">X</button>
      <h2 class="text-xl font-semibold mb-2" id="modal-title"></h2>
      <div id="modal-gallery" class="grid grid-cols-2 gap-1 mb-2"></div>
      <div id="modal-details" class="space-y-1">
        <p><strong>Found At:</strong> <span id="modal-location"></span></p>
        <p><strong>Days Since Found:</strong> <span id="modal-days"></span></p>
        <p><strong>Police Station:</strong> <span id="modal-station"></span></p>
        <p><strong>Condition:</strong> <span id="modal-condition"></span></p>
        <p><strong>Required Documents:</strong> RC, Insurance, PAN, Aadhaar</p>
      </div>
    </div>
  </div>

  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/8897752518?text=Hello%20Legal%20Assist,%20I%20need%20help%20with%20your%20services" target="_blank" id="whatsapp-button">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="Chat with us on WhatsApp">
  </a>

  <style>
    #whatsapp-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
    }
    #whatsapp-button img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      cursor: pointer;
    }
  </style>

  <script>
    // Search Filter
    function filterVehicles() {
      const input = document.getElementById('searchInput').value.toUpperCase();
      const table = document.getElementById('vehicleTable');
      if(!table) return;
      const rows = table.getElementsByTagName('tr');

      for (let i = 1; i < rows.length; i++) {
        const cell = rows[i].getElementsByTagName('td')[0];
        if (cell) {
          const textValue = cell.textContent || cell.innerText;
          rows[i].style.display = textValue.toUpperCase().includes(input) ? '' : 'none';
        }
      }
    }

    // LightGallery
    lightGallery(document.getElementById('lightgallery-1'), { plugins: [lgZoom], zoom: true });
    lightGallery(document.getElementById('lightgallery-2'), { plugins: [lgZoom], zoom: true });

    // Leaflet Map
    const map = L.map('map').setView([17.3850, 78.4867], 12);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const vehicles = [
      {id:1, lat:17.437, lng:78.423, title:"Honda Activa - White", location:"Madhapur", days:5, station:"Madhapur PS", condition:"Minor scratches"},
      {id:2, lat:17.450, lng:78.480, title:"Hyundai i20 - Red", location:"Kukatpally", days:7, station:"Kukatpally PS", condition:"Good"}
    ];

    vehicles.forEach(v => {
      L.marker([v.lat, v.lng]).addTo(map)
        .bindPopup(`<strong>${v.title}</strong><br>${v.location}, ${v.days} days ago`)
        .on('click', () => openVehicleModal(v.id));
    });

    // Vehicle Modal
    function openVehicleModal(id) {
      const v = vehicles.find(x => x.id===id);
      document.getElementById('modal-title').innerText = v.title;
      document.getElementById('modal-location').innerText = v.location;
      document.getElementById('modal-days').innerText = v.days;
      document.getElementById('modal-station').innerText = v.station;
      document.getElementById('modal-condition').innerText = v.condition;

      const gallery = document.getElementById('modal-gallery');
      gallery.innerHTML = `
        <img src="https://via.placeholder.com/400x300" class="rounded">
        <img src="https://via.placeholder.com/400x300" class="rounded">
        <img src="https://via.placeholder.com/400x300" class="rounded">
        <img src="https://via.placeholder.com/400x300" class="rounded">
      `;

      document.getElementById('vehicle-modal').classList.remove('hidden');
    }

    function closeModal() {
      document.getElementById('vehicle-modal').classList.add('hidden');
    }

    // Filters Clear
    function clearFilters() {
      document.getElementById('filter-type').value = '';
      document.getElementById('filter-color').value = '';
      document.getElementById('filter-location').value = '';
      document.getElementById('filter-brand').value = '';
    }
    
  </script>
  <!-- Claim Status Tracker Section -->
<section class="container mx-auto px-6 py-12">
  <div class="bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto">
    <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">Claim Status Tracker</h3>

    <!-- Timeline -->
    <div class="relative border-l-2 border-blue-300 ml-4 mb-8">
      <div class="mb-6 ml-6 relative">
        <div class="absolute -left-5 top-0 w-3 h-3 rounded-full bg-blue-600"></div>
        <p class="font-semibold">Submitted</p>
        <p class="text-gray-500 text-sm">Date: 2025-12-01</p>
      </div>
      <div class="mb-6 ml-6 relative">
        <div class="absolute -left-5 top-0 w-3 h-3 rounded-full bg-blue-600"></div>
        <p class="font-semibold">Verified</p>
        <p class="text-gray-500 text-sm">Date: 2025-12-03</p>
      </div>
      <div class="mb-6 ml-6 relative">
        <div class="absolute -left-5 top-0 w-3 h-3 rounded-full bg-gray-300"></div>
        <p class="font-semibold text-gray-400">Approved</p>
        <p class="text-gray-500 text-sm">Estimated: 2025-12-10</p>
      </div>
      <div class="mb-6 ml-6 relative">
        <div class="absolute -left-5 top-0 w-3 h-3 rounded-full bg-gray-300"></div>
        <p class="font-semibold text-gray-400">Released</p>
        <p class="text-gray-500 text-sm">Estimated: 2025-12-15</p>
      </div>
    </div>

    <!-- Documents Pending -->
    <div class="mb-6">
      <h4 class="font-semibold mb-2">Documents Pending</h4>
      <ul class="list-disc list-inside text-gray-700">
        <li>Proof of Address</li>
        <li>Vehicle Insurance Copy</li>
      </ul>
    </div>

    <!-- Upload Additional Documents -->
    <div class="mb-6">
      <label class="block font-semibold mb-2">Upload Additional Documents</label>
      <input type="file" multiple class="w-full p-3 border rounded-lg">
    </div>

    <!-- Appointment Scheduler -->
    <div>
      <label class="block font-semibold mb-2">Schedule Vehicle Inspection</label>
      <input type="datetime-local" class="w-full p-3 border rounded-lg mb-4">
      <button onclick="alert('Appointment Scheduled!')" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-500 w-full">Schedule</button>
    </div>
  </div>
</section>

<!-- Auction & Vehicle Identification Section -->
<section class="container mx-auto px-6 py-12">
  <div class="bg-white rounded-xl shadow-lg p-8 max-w-5xl mx-auto">
    <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">Auction & Vehicle Finder</h3>

    <!-- Filters -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <select id="vehicleType" class="p-3 border rounded-lg">
        <option value="">Vehicle Type</option>
        <option>Car</option>
        <option>Bike</option>
        <option>Scooter</option>
        <option>Auto</option>
        <option>Truck</option>
      </select>
      <select id="vehicleColor" class="p-3 border rounded-lg">
        <option value="">Color</option>
        <option>Red</option>
        <option>Blue</option>
        <option>White</option>
        <option>Black</option>
        <option>Silver</option>
      </select>
      <input type="text" id="vehicleLocation" placeholder="Location / Police Station" class="p-3 border rounded-lg">
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <select id="vehicleMake" class="p-3 border rounded-lg">
        <option value="">Make/Brand</option>
        <option>Honda</option>
        <option>Hero</option>
        <option>Maruti</option>
        <option>Hyundai</option>
      </select>
      <input type="date" id="dateFrom" class="p-3 border rounded-lg">
      <input type="date" id="dateTo" class="p-3 border rounded-lg">
    </div>

    <div class="flex justify-between mb-6">
      <button onclick="clearFilters()" class="bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300">Clear Filters</button>
      <div id="activeFilters" class="text-gray-700"></div>
    </div>

    <!-- Vehicle List / Auction Table -->
    <div class="overflow-x-auto">
      <table class="min-w-full border border-gray-200">
        <thead class="bg-blue-100">
          <tr>
            <th class="py-3 px-6 text-left">Vehicle Number</th>
            <th class="py-3 px-6 text-left">Model</th>
            <th class="py-3 px-6 text-left">Current Bid</th>
            <th class="py-3 px-6 text-left">Auction Ends In</th>
            <th class="py-3 px-6 text-left">Action</th>
          </tr>
        </thead>
        <tbody id="auctionTable" class="text-gray-700">
          <tr class="border-t hover:bg-blue-50">
            <td class="py-3 px-6">TS09AB1234</td>
            <td class="py-3 px-6">Honda Activa</td>
            <td class="py-3 px-6">₹25,000</td>
            <td class="py-3 px-6"><span class="countdown" data-end="2025-12-15T18:00:00">Loading...</span></td>
            <td class="py-3 px-6">
              <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-500">Bid Now</button>
            </td>
          </tr>
          <tr class="border-t hover:bg-blue-50">
            <td class="py-3 px-6">AP28CD5678</td>
            <td class="py-3 px-6">Hyundai i20</td>
            <td class="py-3 px-6">₹75,000</td>
            <td class="py-3 px-6"><span class="countdown" data-end="2025-12-20T12:00:00">Loading...</span></td>
            <td class="py-3 px-6">
              <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-500">Bid Now</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Vehicle Identification Helper -->
    <div class="mt-10">
      <h4 class="font-semibold mb-2 text-blue-700">Vehicle Identification Helper</h4>
      <input type="text" id="partialNumber" placeholder="Partial plate number or color/model" class="w-full p-3 border rounded-lg mb-2">
      <button onclick="searchVehicle()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-500 w-full mb-4">Search Vehicle</button>

      <div id="similarVehicles" class="text-gray-700"></div>
    </div>

    <!-- Trending Areas Alert -->
    <div class="mt-8 p-4 bg-yellow-100 rounded-lg">
      <h4 class="font-semibold mb-2 text-yellow-800">Trending Areas Alert</h4>
      <ul class="list-disc list-inside">
        <li>Kukatpally - High theft area</li>
        <li>Secunderabad - Frequent vehicle theft</li>
        <li>Madhapur - Community awareness recommended</li>
      </ul>
    </div>

    <!-- Vehicle History Report -->
    <div class="mt-8">
      <h4 class="font-semibold mb-2 text-blue-700">Vehicle History Report</h4>
      <p class="text-gray-700">Check if vehicle was reported stolen, previous owner details, pending challans/fines, insurance status.</p>
    </div>
  </div>
</section>

<!-- Countdown Timer Script -->
<script>
  function updateCountdowns() {
    const countdowns = document.querySelectorAll('.countdown');
    countdowns.forEach(span => {
      const endTime = new Date(span.dataset.end).getTime();
      const now = new Date().getTime();
      const distance = endTime - now;
      if(distance < 0){
        span.innerHTML = "Auction ended";
      } else {
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000*60*60*24))/(1000*60*60));
        const minutes = Math.floor((distance % (1000*60*60))/(1000*60));
        const seconds = Math.floor((distance % (1000*60))/1000);
        span.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
      }
    });
  }
  setInterval(updateCountdowns, 1000);

  function clearFilters() {
    document.getElementById('vehicleType').value = '';
    document.getElementById('vehicleColor').value = '';
    document.getElementById('vehicleLocation').value = '';
    document.getElementById('vehicleMake').value = '';
    document.getElementById('dateFrom').value = '';
    document.getElementById('dateTo').value = '';
    document.getElementById('activeFilters').innerHTML = '';
  }

  function searchVehicle() {
    const query = document.getElementById('partialNumber').value.toLowerCase();
    const suggestions = ["TS09AB1234 - Honda Activa", "AP28CD5678 - Hyundai i20", "TS08EF4321 - Royal Enfield Classic"];
    const results = suggestions.filter(v => v.toLowerCase().includes(query));
    document.getElementById('similarVehicles').innerHTML = results.length ? "<strong>Similar Vehicles:</strong><br>" + results.join('<br>') : "No similar vehicles found.";
  }
</script>
<!-- Insurance Claim Helper -->
<section class="container mx-auto px-6 py-12">
  <div class="bg-white rounded-xl shadow-lg p-8 max-w-4xl mx-auto">
    <h3 class="text-2xl font-bold mb-6 text-blue-800 text-center">Insurance Claim Helper</h3>

    <!-- Damage Report Form -->
    <form id="insuranceForm" class="space-y-6">
      <div>
        <label class="block font-semibold mb-2">Vehicle Number</label>
        <input type="text" id="vehicleNumber" placeholder="Enter vehicle number" class="w-full p-4 border rounded-lg" required>
      </div>

      <div>
        <label class="block font-semibold mb-2">Was the vehicle damaged when found?</label>
        <select id="damageStatus" class="w-full p-4 border rounded-lg" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>

      <div>
        <label class="block font-semibold mb-2">Upload Photos of Damage</label>
        <input type="file" id="damagePhotos" multiple class="w-full p-4 border rounded-lg">
      </div>

      <button type="button" onclick="generateInsuranceClaim()" class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-blue-500 w-full">Generate Insurance Claim</button>
    </form>

    <!-- Claim Status Tracker -->
    <div id="claimStatus" class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 hidden">
      <h4 class="font-semibold mb-4 text-blue-700">Insurance Claim Status</h4>
      <ul class="list-disc list-inside text-gray-700">
        <li id="statusSubmitted">Submitted: ✅</li>
        <li id="statusProcessing">Processing: ⏳</li>
        <li id="statusApproved">Approved: ❌</li>
        <li id="statusCompleted">Completed: ❌</li>
      </ul>
    </div>
  </div>
</section>

<script>
function generateInsuranceClaim() {
  const vehicle = document.getElementById('vehicleNumber').value;
  const damage = document.getElementById('damageStatus').value;
  const photos = document.getElementById('damagePhotos').files;

  if (!vehicle || !damage) {
    alert('Please fill in required fields.');
    return;
  }

  // Show claim status tracker
  const statusDiv = document.getElementById('claimStatus');
  statusDiv.style.display = 'block';

  // Reset status
  document.getElementById('statusSubmitted').textContent = 'Submitted: ✅';
  document.getElementById('statusProcessing').textContent = 'Processing: ⏳';
  document.getElementById('statusApproved').textContent = 'Approved: ❌';
  document.getElementById('statusCompleted').textContent = 'Completed: ❌';

  alert(`Insurance claim generated for vehicle ${vehicle}. ${damage === 'Yes' ? 'Damage documented with ' + photos.length + ' photo(s).' : 'No damage reported.'}`);

  // Simulate status updates
  setTimeout(() => {
    document.getElementById('statusProcessing').textContent = 'Processing: ✅';
  }, 2000);
  setTimeout(() => {
    document.getElementById('statusApproved').textContent = 'Approved: ✅';
  }, 4000);
  setTimeout(() => {
    document.getElementById('statusCompleted').textContent = 'Completed: ✅';
  }, 6000);
}
</script>


</body>
</html>
